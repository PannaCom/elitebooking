@model HotelGolfBooking.Models.golf_promotion

@{
    ViewBag.Title = "Edit";
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml";
}
<script src="/Scripts/ckeditor/ckeditor.js"></script>
<div class="col-md-8">
<h2>Sửa khuyến mại cho sân golf @Session["golfname"]</h2>
@using (Html.BeginForm("Edit", "GolfPromotion", FormMethod.Post, new { id = "EditForm" })) {
    @Html.AntiForgeryToken()
    @Html.ValidationSummary(true)
    <fieldset>
        
              <div class="form-group">
                 <label for="room">Chi tiết khuyến mại</label>
                <textarea name="note" id="note" rows="20" cols="80">
                     @Model.note
                </textarea>
                <script>
                    CKEDITOR.replace('note');
                </script>                                 
                <input name="idgolf" type="hidden" id="idgolf" value="@Session["idgolf"]" class="form-control" />                
                <input name="golfname" type="hidden" id="golfname" value="@Session["golfname"]" class="form-control" />                
                <input name="fdate" type="hidden" id="fdate" value="@Model.fdate" class="form-control" />                
                <input name="tdate" type="hidden" id="tdate" value="@Model.tdate" class="form-control" />                
              </div>
              <div class="form-group">
                <label style="width:auto;display:block;">Áp dụng từ ngày</label>
                <input name="checkin2" type="date" id="checkin2" value="@HotelGolfBooking.Config.convertFromDateIdToDateString2(@Model.fdate.ToString())" class="form-control" placeholder="từ ngày"/>                                            
              </div>
              <div class="form-group">
                <label style="width:auto;display:block;">Đến ngày</label>
                <input name="checkout2" type="date" id="checkout2" value="@HotelGolfBooking.Config.convertFromDateIdToDateString2(@Model.tdate.ToString())" class="form-control" placeholder="đến ngày"/>                                                 
              </div>
              
         <p>
           <button type="button" class="btn btn-info" onclick="checkField();">Sửa</button>
        </p>
    </fieldset>    
}
 
<div>
    <a href="/GolfPromotion/Create">Quay lại</a>    
</div>
</div>

<script>

    function getDateIdNew(d) {
        d = d.replace(/\-/g, "");
        return d;
    }
    function checkDiscount() {
        document.getElementById("discount").value = parseInt(removeSpecialCharater(document.getElementById("discount").value));
    }
    //alert(getDateId("23/11/2014"));
    function checkField() {
        if (document.getElementById("note").value == "") {
            alert("Nhập chi tiết khuyến mại!");
            document.getElementById("note").focus();
            return false;
        }
        if (document.getElementById("checkin2").value == "") {
            alert("Nhập ngày bắt đầu áp dụng!");
            document.getElementById("checkin2").focus();
            return false;
        }
        if (document.getElementById("checkout2").value == "") {
            alert("Nhập ngày kết thúc áp dụng!");
            document.getElementById("checkout2").focus();
            return false;
        }
        document.getElementById("fdate").value = getDateIdNew(document.getElementById("checkin2").value);
        //alert(document.getElementById("fdate").value);
        document.getElementById("tdate").value = getDateIdNew(document.getElementById("checkout2").value);
        //return;
        document.getElementById("EditForm").submit();
    }
</script>
